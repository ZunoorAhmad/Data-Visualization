<div class="bg-white shadow-md p-4 sticky top-0 z-1">
    <div class="max-w-7xl mx-auto flex justify-content-between align-items-center">
        <div class="flex align-items-center	gap-3 text-2xl font-bold text-black-alpha-90">
            <img src="/assets/image/dataA-logo.jpg" width="60" height="60">
            <h1>IoTGuard</h1>
        </div>

        <!-- Desktop Nav -->
        <nav class="hidden md:flex align-items-center w-full justify-content-center gap-3">
            <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/home')">Home</span>
            <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/dashboard')">Dashboard</span>
            <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/about')">About</span>
        </nav>

        <!-- Mobile menu button -->
        <div class="md:hidden">
            <button (click)="toggleMenu()" class="text-gray-700 focus:outline-none text-2xl">
                ☰
            </button>
        </div>
    </div>

    <!-- Mobile Nav -->
    <div *ngIf="menuOpen" class="md:hidden flex flex-column gap-3 mt-4 px-4">
        <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/home')">Home</span>
        <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/dashboard')">Dashboard</span>
        <span class="text-2xl text-gray-700 hover:text-blue-600" (click)="global.goToPage('/teacher/about')">About</span>
    </div>
</div>
<div class="dashboard">
    <!-- Main Content -->
    <div class="main-content">
        <h1>IOT Guard Dashboard</h1>
        <div class="breadcrumb">
            Our dashboard visualizes, analyzes, and automatically mitigates risks across every internet‑connected device
            <!-- Locations Dashboard > ThingsBoard Offices > Vozdvizhenka Development TB Office -->
        </div>

        <!-- Metrics Grid -->
        <div class="metrics-grid flex align-items-center flex-wrap">
            <div class="metric-card text-center w-3">
                <button type="button" (click)="triggerFileInput()">Upload</button>
                <input type="file" #fileInput (change)="onFileSelected($event)" style="display: none" />
                <span *ngIf="selectedFileName">{{ selectedFileName }}</span>
            </div>
            <div class="metric-card text-center w-3">
                <button type="button" (click)="clearFile()" class="btn btn-danger">Submit</button>
            </div>
            <div class="metric-card text-center w-3">
                <button type="button" class="btn btn-primary">Remove</button>
            </div>
            <div class="metric-card text-center w-3">
                <button type="button" (click)="openModal()" class="btn btn-dark">Download</button>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-nogutter charts-section-div">
            <div class="col-6 charts-section-col">
                <img src="/assets/image/confusion-marix.jpg">
            </div>
            <div class="col-6 charts-section-col">
                <img src="/assets/image/Classification Report XG.png">
            </div>
            <div class="col-6 charts-section-col">
                <img src="/assets/image/Model Accuracy.png">
            </div>
            <div class="col-6 charts-section-col">
                <img src="/assets/image/Multiclass ROC.png">
            </div>
        </div>
        <!-- <div class="charts-section">
            <div class="temperature-chart">
                <div class="chart-header">
                    <h2>Average office temperature</h2>
                    <div class="chart-controls">
                        <div class="date-range">10-10-2022 - 10-10-2022</div>
                        <button class="filter-btn">
                            <svg viewBox="0 0 24 24">
                                <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" />
                            </svg>
                            Filtr
                        </button>
                        <button class="more-btn">•••</button>
                    </div>
                </div>
                <canvas id="temperatureChart"></canvas>
                <div class="chart-legend">
                    <div class="legend-item">
                        <span class="legend-line blue"></span>
                        Average normal temperature according to the office requirements
                    </div>
                    <div class="legend-item">
                        <span class="legend-line gray"></span>
                        Current temperature
                    </div>
                </div>
            </div>

            <div class="usage-charts">
                <div class="pie-chart">
                    <h2>Electricity usage by days</h2>
                    <canvas id="usageByDaysChart"></canvas>
                </div>

                <div class="bar-chart">
                    <h2>Electricity usage by device</h2>
                    <canvas id="usageByDeviceChart"></canvas>
                </div>
            </div>
        </div> -->
    </div>
</div>

<p-dialog header="Detail" [(visible)]="displayModal" [modal]="true" [style]="{width: '50vw'}" [draggable]="false"
    [resizable]="false">
    <div class="modal-content">
        <div class="image-container">
            <img src="./../../../../../assets/image/confusion-marix.jpg" alt="Modal Image" class="modal-image">
        </div>
        <div class="text-inputs">
            <div class="field">
                <label for="line1">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequatur doloremque id,
                    corporis molestiae illum eius. Doloremque recusandae veniam quam ullam saepe iste sit exercitationem
                    deleniti ipsum mollitia voluptatem, soluta sequi architecto error necessitatibus reprehenderit, sunt
                    aperiam? Veritatis quia dolores facilis illum distinctio laudantium minima et voluptates aliquam,
                    voluptas, tenetur fugit.</label>
            </div>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <button pButton type="button" label="Close Modal" icon="pi pi-times" (click)="closeModal()"
            class="p-button-secondary"></button>
    </ng-template>
</p-dialog>
